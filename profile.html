<!DOCTYPE html>
<html lang="id">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Profile – Docterbee Member</title>

    <!-- External Stylesheets -->
    <link
      href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap"
      rel="stylesheet"
    />
    <link rel="icon" type="image/png" href="assets/images/favicon.png" />
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="css/style.css" />
    <link rel="stylesheet" href="css/landing-page.css" />
    <link rel="stylesheet" href="css/card-preview.css" />
    <style>
      .profile-container {
        max-width: 800px;
        margin: 0 auto;
        padding: 2rem 1rem;
      }

      .profile-header {
        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        border-radius: 16px;
        padding: 2rem;
        color: white;
        margin-bottom: 2rem;
        box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
      }

      .profile-avatar {
        width: 80px;
        height: 80px;
        border-radius: 50%;
        background: rgba(255, 255, 255, 0.2);
        display: flex;
        align-items: center;
        justify-content: center;
        font-size: 2rem;
        font-weight: 700;
        margin-bottom: 1rem;
        border: 3px solid rgba(255, 255, 255, 0.3);
      }

      .profile-info-card {
        background: white;
        border-radius: 16px;
        padding: 2rem;
        margin-bottom: 2rem;
        box-shadow: 0 4px 12px rgba(0, 0, 0, 0.05);
      }

      .info-row {
        display: flex;
        padding: 1rem 0;
        border-bottom: 1px solid #e5e7eb;
      }

      .info-row:last-child {
        border-bottom: none;
      }

      .info-label {
        font-weight: 600;
        color: #64748b;
        min-width: 140px;
      }

      .info-value {
        color: #1f2937;
        flex: 1;
      }

      @media (max-width: 768px) {
        .profile-container {
          padding: 1rem;
        }

        .profile-header {
          padding: 1.5rem;
        }

        .profile-info-card {
          padding: 1.5rem;
        }

        .info-row {
          flex-direction: column;
          gap: 0.5rem;
        }

        .info-label {
          min-width: auto;
        }
      }
      main,
      main section,
      main div {
        opacity: 1 !important;
        transform: none !important;
      }
    </style>
  </head>
  <body class="bg-gray-50 text-slate-900">
    <header>
      <div class="container">
        <nav>
          <a href="/" class="logo"
            ><img src="assets/images/logo-docterbee.png" alt="DocterBee" class="logo-img"
          /></a>
          <div class="nav-links">
            <a href="/" id="guestNavItem">Beranda</a>
            <a href="/store">Produk</a>
            <!-- Kesehatan Dropdown -->
            <div class="nav-dropdown">
              <button
                class="nav-dropdown-toggle"
                type="button"
                aria-haspopup="true"
                aria-expanded="false"
              >
                Kesehatan
                <svg
                  class="chevron-icon"
                  xmlns="http://www.w3.org/2000/svg"
                  viewBox="0 0 24 24"
                  fill="none"
                  stroke="currentColor"
                  stroke-width="2"
                  stroke-linecap="round"
                  stroke-linejoin="round"
                >
                  <polyline points="6 9 12 15 18 9"></polyline>
                </svg>
              </button>
              <div class="nav-dropdown-menu">
                <a href="/periksa-kesehatan"
                  ><svg
                    xmlns="http://www.w3.org/2000/svg"
                    width="16"
                    height="16"
                    viewBox="0 0 24 24"
                    fill="none"
                    stroke="currentColor"
                    stroke-width="2"
                    stroke-linecap="round"
                    stroke-linejoin="round"
                  >
                    <path d="M22 12h-4l-3 9L9 3l-3 9H2"></path>
                  </svg>
                  Cek Kesehatan</a
                >
                <a href="/journey"
                  ><svg
                    xmlns="http://www.w3.org/2000/svg"
                    width="16"
                    height="16"
                    viewBox="0 0 24 24"
                    fill="none"
                    stroke="currentColor"
                    stroke-width="2"
                    stroke-linecap="round"
                    stroke-linejoin="round"
                  >
                    <circle cx="12" cy="12" r="10"></circle>
                    <polyline points="12 6 12 12 16 14"></polyline>
                  </svg>
                  Journey</a
                >
                <a href="/services"
                  ><svg
                    xmlns="http://www.w3.org/2000/svg"
                    width="16"
                    height="16"
                    viewBox="0 0 24 24"
                    fill="none"
                    stroke="currentColor"
                    stroke-width="2"
                    stroke-linecap="round"
                    stroke-linejoin="round"
                  >
                    <path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"></path>
                    <circle cx="12" cy="7" r="4"></circle>
                  </svg>
                  Services</a
                >
              </div>
            </div>
            <a href="/ai-advisor">AI Advisor</a>
            <a href="/events">Program</a>
            <div class="nav-dropdown">
              <button class="nav-dropdown-toggle" type="button">
                Media
                <svg
                  class="chevron-icon"
                  xmlns="http://www.w3.org/2000/svg"
                  viewBox="0 0 24 24"
                  fill="none"
                  stroke="currentColor"
                  stroke-width="2"
                >
                  <polyline points="6 9 12 15 18 9"></polyline>
                </svg>
              </button>
              <div class="nav-dropdown-menu">
                <a href="/insight"
                  ><svg
                    xmlns="http://www.w3.org/2000/svg"
                    width="16"
                    height="16"
                    viewBox="0 0 24 24"
                    fill="none"
                    stroke="currentColor"
                    stroke-width="2"
                  >
                    <path d="M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z"></path>
                    <path d="M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z"></path>
                  </svg>
                  Edukasi</a
                >
                <a href="/youtube-ai"
                  ><svg
                    xmlns="http://www.w3.org/2000/svg"
                    width="16"
                    height="16"
                    viewBox="0 0 24 24"
                    fill="none"
                    stroke="currentColor"
                    stroke-width="2"
                  >
                    <path
                      d="M22.54 6.42a2.78 2.78 0 0 0-1.94-2C18.88 4 12 4 12 4s-6.88 0-8.6.46a2.78 2.78 0 0 0-1.94 2A29 29 0 0 0 1 11.75a29 29 0 0 0 .46 5.33A2.78 2.78 0 0 0 3.4 19c1.72.46 8.6.46 8.6.46s6.88 0 8.6-.46a2.78 2.78 0 0 0 1.94-2 29 29 0 0 0 .46-5.25 29 29 0 0 0-.46-5.33z"
                    ></path>
                    <polygon points="9.75 15.02 15.5 11.75 9.75 8.48 9.75 15.02"></polygon>
                  </svg>
                  YouTube &amp; AI</a
                >
                <a href="/podcast"
                  ><svg
                    xmlns="http://www.w3.org/2000/svg"
                    width="16"
                    height="16"
                    viewBox="0 0 24 24"
                    fill="none"
                    stroke="currentColor"
                    stroke-width="2"
                  >
                    <path d="M3 18v-6a9 9 0 0 1 18 0v6"></path>
                    <path
                      d="M21 19a2 2 0 0 1-2 2h-1a2 2 0 0 1-2-2v-3a2 2 0 0 1 2-2h3zM3 19a2 2 0 0 0 2 2h1a2 2 0 0 0 2-2v-3a2 2 0 0 0-2-2H3z"
                    ></path>
                  </svg>
                  Podcast Audio</a
                >
              </div>
            </div>
            <div id="authButtons">
              <button
                class="btn btn-outline"
                onclick="location.href='/login'"
                style="margin-right: 8px"
              >
                Masuk</button
              ><button class="btn btn-primary" onclick="location.href='/register'">
                Daftar Sekarang
              </button>
            </div>
            <div id="memberInfo" style="display: none; align-items: center; gap: 12px">
              <span class="points-display" id="pointsDisplay"
                >Points: <b id="pointsValue">0</b></span
              ><a href="/profile" id="profileBtn" class="nav-link active" title="Profile"
                ><svg
                  xmlns="http://www.w3.org/2000/svg"
                  width="20"
                  height="20"
                  viewBox="0 0 24 24"
                  fill="none"
                  stroke="currentColor"
                  stroke-width="2"
                >
                  <path d="M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2"></path>
                  <circle cx="12" cy="7" r="4"></circle></svg></a
              ><button id="logoutBtn" class="btn btn-outline-danger">Logout</button>
            </div>
          </div>
          <button class="hamburger-btn" id="hamburgerBtn" aria-label="Menu">
            <span></span><span></span><span></span>
          </button>
        </nav>
      </div>
    </header>

    <div class="mobile-menu-overlay" id="mobileMenuOverlay"></div>
    <div class="mobile-menu" id="mobileMenu">
      <div class="mobile-menu-header">
        <div class="logo-box" style="margin: 0">
          <img
            src="assets/images/logo-docterbee.png"
            alt="DocterBee"
            style="height: 48px; width: auto"
          />
        </div>
        <button class="mobile-menu-close" id="mobileMenuClose" aria-label="Close">
          <svg
            width="24"
            height="24"
            viewBox="0 0 24 24"
            fill="none"
            stroke="currentColor"
            stroke-width="2"
          >
            <line x1="18" y1="6" x2="6" y2="18"></line>
            <line x1="6" y1="6" x2="18" y2="18"></line>
          </svg>
        </button>
      </div>
      <nav class="mobile-nav">
        <a href="/" id="mobileGuestNavItem" class="mobile-nav-link">Beranda</a>
        <a href="/store" class="mobile-nav-link">Produk</a>
        <!-- Mobile Kesehatan Dropdown -->
        <div class="mobile-nav-dropdown" id="mobileKesehatanDropdown">
          <button
            class="mobile-nav-dropdown-toggle"
            type="button"
            aria-haspopup="true"
            aria-expanded="false"
          >
            Kesehatan
            <svg
              class="chevron-icon"
              xmlns="http://www.w3.org/2000/svg"
              viewBox="0 0 24 24"
              fill="none"
              stroke="currentColor"
              stroke-width="2"
              stroke-linecap="round"
              stroke-linejoin="round"
            >
              <polyline points="6 9 12 15 18 9"></polyline>
            </svg>
          </button>
          <div class="mobile-nav-submenu">
            <a href="/periksa-kesehatan"
              ><svg
                xmlns="http://www.w3.org/2000/svg"
                width="16"
                height="16"
                viewBox="0 0 24 24"
                fill="none"
                stroke="currentColor"
                stroke-width="2"
                stroke-linecap="round"
                stroke-linejoin="round"
              >
                <path d="M22 12h-4l-3 9L9 3l-3 9H2"></path>
              </svg>
              Cek Kesehatan</a
            >
            <a href="/journey"
              ><svg
                xmlns="http://www.w3.org/2000/svg"
                width="16"
                height="16"
                viewBox="0 0 24 24"
                fill="none"
                stroke="currentColor"
                stroke-width="2"
                stroke-linecap="round"
                stroke-linejoin="round"
              >
                <circle cx="12" cy="12" r="10"></circle>
                <polyline points="12 6 12 12 16 14"></polyline>
              </svg>
              Journey</a
            >
            <a href="/services"
              ><svg
                xmlns="http://www.w3.org/2000/svg"
                width="16"
                height="16"
                viewBox="0 0 24 24"
                fill="none"
                stroke="currentColor"
                stroke-width="2"
                stroke-linecap="round"
                stroke-linejoin="round"
              >
                <path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"></path>
                <circle cx="12" cy="7" r="4"></circle>
              </svg>
              Services</a
            >
          </div>
        </div>
        <a href="/ai-advisor" class="mobile-nav-link">AI Advisor</a>
        <a href="/events" class="mobile-nav-link">Program</a>
        <div class="mobile-nav-dropdown" id="mobileMediaDropdown">
          <button class="mobile-nav-dropdown-toggle" type="button">
            Media
            <svg
              class="chevron-icon"
              xmlns="http://www.w3.org/2000/svg"
              viewBox="0 0 24 24"
              fill="none"
              stroke="currentColor"
              stroke-width="2"
            >
              <polyline points="6 9 12 15 18 9"></polyline>
            </svg>
          </button>
          <div class="mobile-nav-submenu">
            <a href="/insight"
              ><svg
                xmlns="http://www.w3.org/2000/svg"
                width="16"
                height="16"
                viewBox="0 0 24 24"
                fill="none"
                stroke="currentColor"
                stroke-width="2"
              >
                <path d="M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z"></path>
                <path d="M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z"></path>
              </svg>
              Edukasi</a
            >
            <a href="/youtube-ai"
              ><svg
                xmlns="http://www.w3.org/2000/svg"
                width="16"
                height="16"
                viewBox="0 0 24 24"
                fill="none"
                stroke="currentColor"
                stroke-width="2"
              >
                <path
                  d="M22.54 6.42a2.78 2.78 0 0 0-1.94-2C18.88 4 12 4 12 4s-6.88 0-8.6.46a2.78 2.78 0 0 0-1.94 2A29 29 0 0 0 1 11.75a29 29 0 0 0 .46 5.33A2.78 2.78 0 0 0 3.4 19c1.72.46 8.6.46 8.6.46s6.88 0 8.6-.46a2.78 2.78 0 0 0 1.94-2 29 29 0 0 0 .46-5.25 29 29 0 0 0-.46-5.33z"
                ></path>
                <polygon points="9.75 15.02 15.5 11.75 9.75 8.48 9.75 15.02"></polygon>
              </svg>
              YouTube &amp; AI</a
            >
            <a href="/podcast"
              ><svg
                xmlns="http://www.w3.org/2000/svg"
                width="16"
                height="16"
                viewBox="0 0 24 24"
                fill="none"
                stroke="currentColor"
                stroke-width="2"
              >
                <path d="M3 18v-6a9 9 0 0 1 18 0v6"></path>
                <path
                  d="M21 19a2 2 0 0 1-2 2h-1a2 2 0 0 1-2-2v-3a2 2 0 0 1 2-2h3zM3 19a2 2 0 0 0 2 2h1a2 2 0 0 0 2-2v-3a2 2 0 0 0-2-2H3z"
                ></path>
              </svg>
              Podcast Audio</a
            >
          </div>
        </div>
        <div class="mobile-menu-actions">
          <div id="mobileAuthButtons">
            <button class="btn btn-outline" onclick="location.href='/login'" style="width: 100%">
              Masuk</button
            ><button
              class="btn btn-primary"
              onclick="location.href='/register'"
              style="width: 100%"
            >
              Daftar Sekarang
            </button>
          </div>
          <div id="mobileMemberInfo" style="display: none">
            <div class="mobile-points-display" id="mobilePointsDisplay">
              Points: <b id="mobileNavPoints">0</b>
            </div>
            <a
              href="/profile"
              id="mobileProfileBtn"
              class="mobile-nav-link"
              style="display: flex; align-items: center; gap: 8px"
              ><svg
                xmlns="http://www.w3.org/2000/svg"
                width="18"
                height="18"
                viewBox="0 0 24 24"
                fill="none"
                stroke="currentColor"
                stroke-width="2"
              >
                <path d="M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2"></path>
                <circle cx="12" cy="7" r="4"></circle>
              </svg>
              Profile</a
            ><button id="mobileLogoutBtn" class="btn btn-outline-danger" style="width: 100%">
              Logout
            </button>
          </div>
        </div>
      </nav>
    </div>

    <!-- Profile Content -->
    <main class="profile-container">
      <!-- Loading State -->
      <div id="loadingState" style="text-align: center; padding: 3rem">
        <p class="text-slate-600">Memuat data profile...</p>
      </div>

      <!-- Profile Content (Hidden initially) -->
      <div id="profileContent" style="display: none">
        <!-- Profile Header -->
        <div class="profile-header">
          <div class="profile-avatar" id="profileAvatar">U</div>
          <h1 class="text-2xl font-bold mb-1" id="profileName">Loading...</h1>
          <p class="opacity-90" id="profileEmail">loading@example.com</p>
        </div>

        <!-- Profile Information -->
        <div class="profile-info-card">
          <h2 class="text-xl font-bold mb-4">Informasi Akun</h2>
          <div class="info-row">
            <div class="info-label">Nama Lengkap</div>
            <div class="info-value" id="infoName">-</div>
          </div>
          <div class="info-row">
            <div class="info-label">Email</div>
            <div class="info-value" id="infoEmail">-</div>
          </div>
          <div class="info-row">
            <div class="info-label">Nomor Telepon</div>
            <div class="info-value" id="infoPhone">-</div>
          </div>
          <div class="info-row">
            <div class="info-label">Jenis Kartu</div>
            <div class="info-value" id="infoCardType">-</div>
          </div>
          <div class="info-row">
            <div class="info-label">Points</div>
            <div class="info-value" id="infoPoints">0 Points</div>
          </div>
        </div>

        <!-- Membership Card -->
        <div class="profile-info-card">
          <h2 class="text-xl font-bold mb-4">Kartu Member Anda</h2>
          <div class="card-preview-container" style="display: block">
            <div class="card-flip-wrapper" id="profileCardFlipWrapper">
              <!-- Front Face -->
              <div class="card-face card-face-front">
                <img id="profileCardFrontImage" src="" alt="Card Front" class="card-image" />
                <div class="card-overlay">
                  <div class="card-info" id="profileCardInfo">
                    <div class="card-name" id="profileCardNameDisplay">Nama Anda</div>
                    <div class="card-phone" id="profileCardPhoneDisplay">08xxxxxxxxxx</div>
                    <div class="card-points" id="profileCardPointsDisplay">0 Points</div>
                  </div>
                </div>
              </div>
              <!-- Back Face -->
              <div class="card-face card-face-back">
                <img id="profileCardBackImage" src="" alt="Card Back" class="card-image" />
              </div>
            </div>
            <div class="card-flip-hint">
              <svg
                xmlns="http://www.w3.org/2000/svg"
                fill="none"
                viewBox="0 0 24 24"
                stroke="currentColor"
              >
                <path
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  stroke-width="2"
                  d="M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"
                />
              </svg>
              Klik kartu untuk melihat bagian belakang
            </div>
          </div>
        </div>
      </div>

      <!-- Error State -->
      <div id="errorState" style="display: none; text-align: center; padding: 3rem">
        <p class="text-red-600 mb-4">Gagal memuat data profile. Silakan login terlebih dahulu.</p>
        <button onclick="window.location.href='/login'" class="btn btn-primary">Login</button>
      </div>
    </main>

    <!-- Scripts -->
    <script src="https://unpkg.com/lucide@latest"></script>
    <script>
      lucide.createIcons();
    </script>
    <script src="js/modal-utils.js"></script>
    <script src="js/utils.js"></script>
    <script src="js/script.js"></script>
    <script src="js/landing-navbar.js"></script>

    <!-- Profile Logic -->
    <script>
      // Card type mapping (same as register page)
      const cardTypeMapping = {
        "Active-Worker": {
          front: "/uploads/gambar_kartu/depan/Background-Active-Worker.png",
          back: "/uploads/gambar_kartu/belakang/Tampilan-Belakang-Active-Worker.png",
          label: "Active Worker",
        },
        "Family-Member": {
          front: "/uploads/gambar_kartu/depan/Background-Family-Member.png",
          back: "/uploads/gambar_kartu/belakang/Tampilan-Belakang-Family-Member.png",
          label: "Family Member",
        },
        "Healthy-Smart-Kids": {
          front: "/uploads/gambar_kartu/depan/Background-Healthy-&-Smart-Kids.png",
          back: "/uploads/gambar_kartu/belakang/Tampilan-Belakang-Healthy-&-Smart-Kids.png",
          label: "Healthy & Smart Kids",
        },
        "Mums-Baby": {
          front: "/uploads/gambar_kartu/depan/Background-Mums-&-Baby.png",
          back: "/uploads/gambar_kartu/belakang/Tampilan-Belakang-Mums-&-Baby.png",
          label: "Mums & Baby",
        },
        "New-Couple": {
          front: "/uploads/gambar_kartu/depan/Background-New-Couple.png",
          back: "/uploads/gambar_kartu/belakang/Tampilan-Belakang-New-Couple.png",
          label: "New Couple",
        },
        "Pregnant-Preparation": {
          front: "/uploads/gambar_kartu/depan/Background-Pregnant-Preparatiom.png",
          back: "/uploads/gambar_kartu/belakang/Tampilan-Belakang-Pregnant-Preparatiom.png",
          label: "Pregnant Preparation",
        },
        "Senja-Ceria": {
          front: "/uploads/gambar_kartu/depan/Background-Senja-Ceria.png",
          back: "/uploads/gambar_kartu/belakang/Tampilan-Belakang-Senja-Ceria.png",
          label: "Senja Ceria",
        },
      };

      // Flip card on click
      const profileCardFlipWrapper = document.getElementById("profileCardFlipWrapper");
      profileCardFlipWrapper.addEventListener("click", function () {
        this.classList.toggle("flipped");
      });

      // Load profile data
      async function loadProfileData() {
        try {
          // Get user data
          const response = await fetch("/api/auth/me", {
            credentials: "include",
          });

          if (!response.ok) {
            throw new Error("Not authenticated");
          }

          const result = await response.json();

          if (!result.success || !result.data) {
            throw new Error("Failed to load profile");
          }

          const user = result.data;

          // Get points data
          let points = 0;
          try {
            const progressResponse = await fetch("/api/user-data/progress", {
              credentials: "include",
            });
            if (progressResponse.ok) {
              const progressData = await progressResponse.json();
              if (progressData.success && progressData.data) {
                points = progressData.data.points || 0;
              }
            }
          } catch (e) {
            console.log("Could not load points:", e);
          }

          // Update UI
          displayProfileData(user, points);

          // Hide loading, show content
          document.getElementById("loadingState").style.display = "none";
          document.getElementById("profileContent").style.display = "block";
        } catch (error) {
          console.error("Error loading profile:", error);
          document.getElementById("loadingState").style.display = "none";
          document.getElementById("errorState").style.display = "block";
        }
      }

      function displayProfileData(user, points) {
        // Get first letter for avatar
        const firstLetter = user.name.charAt(0).toUpperCase();

        // Update header
        document.getElementById("profileAvatar").textContent = firstLetter;
        document.getElementById("profileName").textContent = user.name;
        document.getElementById("profileEmail").textContent = user.email;

        // Update info rows
        document.getElementById("infoName").textContent = user.name;
        document.getElementById("infoEmail").textContent = user.email;
        document.getElementById("infoPhone").textContent = user.phone;

        // Update card type
        const cardType = user.card_type || "Active-Worker";
        const cardData = cardTypeMapping[cardType];

        if (cardData) {
          document.getElementById("infoCardType").textContent = cardData.label;

          // Update card preview
          document.getElementById("profileCardFrontImage").src = cardData.front;
          document.getElementById("profileCardBackImage").src = cardData.back;
          document.getElementById("profileCardNameDisplay").textContent = user.name;
          document.getElementById("profileCardPhoneDisplay").textContent = user.phone;
          document.getElementById("profileCardPointsDisplay").textContent = `${points} Points`;

          // Apply smaller font and lower position for specific card types
          const smallNameTypes = ["Mums-Baby", "New-Couple", "Pregnant-Preparation"];
          const nameElement = document.getElementById("profileCardNameDisplay");
          const infoElement = document.getElementById("profileCardInfo");
          if (smallNameTypes.includes(cardType)) {
            nameElement.classList.add("card-name-small");
            if (infoElement) infoElement.classList.add("card-info-lower");
          } else {
            nameElement.classList.remove("card-name-small");
            if (infoElement) infoElement.classList.remove("card-info-lower");
          }
        }

        // Update points
        document.getElementById("infoPoints").textContent = `${points} Points`;

        // Update navbar points (desktop and mobile)
        const pointsDisplay = document.getElementById("pointsDisplay");
        const pointsValue = document.getElementById("pointsValue");
        if (pointsDisplay && pointsValue) {
          pointsValue.textContent = points;
          pointsDisplay.style.display = "block";
        }

        const mobilePointsDisplay = document.getElementById("mobilePointsDisplay");
        const mobileNavPoints = document.getElementById("mobileNavPoints");
        if (mobilePointsDisplay && mobileNavPoints) {
          mobileNavPoints.textContent = points;
          mobilePointsDisplay.style.display = "block";
        }

        // Show profile and logout buttons
        const profileBtn = document.getElementById("profileBtn");
        const mobileProfileBtn = document.getElementById("mobileProfileBtn");
        if (profileBtn) profileBtn.style.display = "block";
        if (mobileProfileBtn) mobileProfileBtn.style.display = "block";
      }

      // Logout functionality (using handleLogout from script.js)
      const logoutBtn = document.getElementById("logoutBtn");
      const mobileLogoutBtn = document.getElementById("mobileLogoutBtn");

      if (logoutBtn) {
        logoutBtn.style.display = "block";
        if (typeof handleLogout === "function") {
          logoutBtn.addEventListener("click", handleLogout);
        }
      }

      if (mobileLogoutBtn) {
        mobileLogoutBtn.style.display = "block";
        if (typeof handleLogout === "function") {
          mobileLogoutBtn.addEventListener("click", handleLogout);
        }
      }

      // Load data on page load
      loadProfileData();
    </script>

    <!-- ================= FOOTER ================= -->
    <footer>
      <div class="container">
        <div class="footer-content">
          <div>© 2025 DocterBee. All rights reserved.</div>
          <div>
            Berbasis <strong>Sains & Alam</strong>. | <a href="#">Privacy</a> ·
            <a href="#">Terms</a>
          </div>
        </div>
      </div>
    </footer>
  </body>
</html>
